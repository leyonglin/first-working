Ansible / Git / Jenkins / Docker / kubernetes / iptales
下载
修改配置文件(ssh端口和密钥位置)
定义用户组hosts
[组名]
test
test1:port
te test=port
db-[a:f].example.com
test  ansible_connection=ssh  ansible_ssh_user=student
主机变量，组变量
[test2]
[test3]
[test4:children]

adhoc ：
ansible test0 -m command -a 'uptime'    用户组执行
ansible 192.168.126.130 -m setup        查看客户端信息
ansible-doc -l / ansible-doc [-s] file    查看模块
ansible all -m ping -u student           
playbook
aybooks 的格式是YAML,由一个或者多个play组成，每一个 play 包含了一个 task 列表（任务列表）
命令行传输参数：ansible-playbook release.yml --extra-vars "hosts=vipers user=starbuck"
											 --extra-vars '{"pacman":"mrs","ghosts":["inky","pinky","clyde","sue"]}'
---
- hosts: webservers
  remote_user: root
  tasks:
    - name: test connection
    - service: name=nginx state=started
	[shell: /usr/bin/somecommand || /bin/true
	  remote_user: yourname
      sudo: yes
	  sudo_user: postgres
	  --ask-sudo-pass]



docker：docker info / docker --version
docker search 镜像关键字                                                          搜索镜像    
docker pull [OPTIONS] NAME[:TAG|@DIGEST]                                           下载镜像
docker image ls [-a -q] [--digests] [镜像关键字] [-f since/before=镜像]              查看镜像
docker run -it [-d] --rm ubuntu:16.04 /bin/bash                                    临时运行容器
docker run -d -h gitlab --name gitlab -p 443:443 -p 80:80 -p 22:22 --restart always -v /srv/gitlab/config:/etc/gitlab -v /srv/gitlab/logs:/var/log/gitlab -v /srv/gitlab/data:/var/opt/gitlab gitlab_zh:latest       运行容器
docker stop NAMES(最后一列)                                                        停止容器   
docker image rm [OPTIONS] IMAGE [IMAGE...]										   删除容器
docker system df                                  查看容器占用系统资源
docker image ls -f dangling=true                  列出虚悬镜像(没用的)(官方已重做，并相同名字和标签重新发布)docker image prune 删除


































