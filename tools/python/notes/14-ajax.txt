

01： Ajax JSON
 
AJAX - 阿贾克斯
“Asynchronous Javascript And XML”（异步 JavaScript 和 XML）
同步访问：当客户端向服务器发送请求时，服务器在处理过程中，浏览器只能等待，效率偏低
异步访问：当客户端向服务器发送请求时，服务器在处理过程中，客户端可以做其它的操作，不需要一直等待，效率偏高

HTML超文本标记语言（英語：HyperText Markup Language）：数据显示
XML：可扩展标记语言（eXtensible Markup Language）：数据存储

AJAX优点：
	1.异步访问
	2.局部刷新
AJAX使用场合：
	1.搜索建议
	2.表单验证
	3.前后端完全分离
AJAX的核心对象-异步对象(XMLHttpRequest,简称"xhr")
	1.xhr：代替浏览器向服务器发送请求并接收响应，由JS提供
	2.创建异步对象(xhr)
		主流的异步对象是XMLHttpRequest类型的，并且主流浏览器都支持(IE7+,Chrome,Firefox,Safari,Opera)
			IE低版本需要使用ActiveXObject()来创建异步对象
		判断：
			<script>
				if(window.XMLHttpRequest){
					alert('支持')
				}
				else{
					alert('请支持ActiveXObject')
				}
			</script>

		支持XMLHttpRequest: new  XMLHttpRequest()
		不支持:new  ActiveXObject("Microsoft.XMLHTTP")
	3.xhr的成员
		1.方法 - open()
			作用：创建请求
			语法：open(method,url,async)
				method:请求方法
				url:请求地址
				async: True使用异步方式发送请求   False使用同步方式发送请求
		2.属性 - readyState
			作用：请求状态，通过不同的请求状态值来表示xhr与服务器的交互情况
			由0-4共5个值表示5个不同的状态	
			0: 请求未初始化
			1: 与服务器已建立连接
			2: 服务器已接收请求
			3: 请求处理中
			4: 请求已完成，且响应已就绪
		3.属性 - status
			作用：表示服务器端的响应状态码
				200   404    500
				
		4.属性 - responseText
			作用：服务器端的响应数据
		5.事件 - onreadystatechange
			作用：每当xhr的readyState属性值发生改变的时候要触发的操作/回调函数
				在该函数中，只有当readyState的值为4并且status的值为200的时候，就可以正常的接收responseText了
		6.方法 - send()
			作用：通知xhr向服务器端发送请求
			语法：send(body)
				body:表示请求的主体(post push)
				get请求：是没有请求主体的，所以body的值为null.（传参只是url传参，并不是请求主体传参）
					xhr.send(null)
				post请求：有请求主体
					xhr.send("请求数据")
					xhr.send("参数=值&参数值=值&...")
	4.AJAX的操作步骤
		1.GET请求
			<script>
				1.创建xhr对象
					var xhr = getXhr();
				2.创建请求 - open()
					xhr.open('get','/02-server',true);
				3.设置回调函数 - onreadystatechange
					判断状态并且接收数据
						xhr.onreadystatechange = function(){
							//监听xhr的状态码，readyState的值为4并且status的值是否为200
							if(xhr.readyState == 4 && xhr.status == 200){
								//接收服务器端的响应数据
								var resText=xhr.responseText;
								//业务处理
								document.getElementById('show').innerHTML = resText;
							}
	
						}
				4.发送请求 - send()
				xhr.send(null)
				}
			</script>

			

	5.post请求
		1.请求提交的数据要作为send()的参数进行提交xhr.send("参数=值&参数=值");
		2.ajax的content-type默认为"text/plain"，这个默认是只能传递ASCII   （multipart/form-data为传输文件使用）
			xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")


3-00:00

















02： 使用JSON进行数据交换 Jquery对Ajax的支持 跨域访问
















